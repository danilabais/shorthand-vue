(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06a5cf23"],{"198f":function(t,e,i){"use strict";i.r(e);var n=i("7a23"),s=function(t){return Object(n["z"])("data-v-0a5d15bc"),t=t(),Object(n["x"])(),t},c={class:"bg-light pt-3 px-3 pt-md-5 px-md-5 mb-4 text-center"},r=s((function(){return Object(n["i"])("h2",{class:"display-5"},"Тренировка скорописи.",-1)})),a=s((function(){return Object(n["i"])("p",{class:"lead"},"Улучши свои показатели, и не забывай о технике!",-1)})),o={key:2},l=s((function(){return Object(n["i"])("span",{class:"spinner-border spinner-border-xxl",role:"status","aria-hidden":"true"},null,-1)})),u=s((function(){return Object(n["i"])("span",null," Загрузка...",-1)})),b=[l,u];function d(t,e,i,s,l,u){var d=Object(n["D"])("TrainingLobby"),h=Object(n["D"])("TrainingStart"),p=Object(n["D"])("TrainingFinish");return Object(n["w"])(),Object(n["h"])("div",c,[r,a,Object(n["i"])("div",{class:Object(n["r"])(["bg-body shadow-lg mx-auto",{flexcenter:l.loading}]),style:{width:"80%","min-height":"200px","border-radius":"21px 21px 21px 21px"}},[l.isStart||l.isFinish?Object(n["g"])("",!0):(Object(n["w"])(),Object(n["f"])(d,{key:0,onStart:u.onStart},null,8,["onStart"])),l.isStart&&!l.loading?(Object(n["w"])(),Object(n["f"])(h,{key:1,onFetchText:u.fetchText,text:l.text,onFinish:u.finish,onBack:u.onBack},null,8,["onFetchText","text","onFinish","onBack"])):Object(n["g"])("",!0),l.loading?(Object(n["w"])(),Object(n["h"])("div",o,b)):Object(n["g"])("",!0),l.isFinish?(Object(n["w"])(),Object(n["f"])(p,{key:3,result:l.result,onBack:u.onBackFromFinish},null,8,["result","onBack"])):Object(n["g"])("",!0)],2)])}var h=i("1da1"),p=(i("ac1f"),i("1276"),i("a15b"),i("96cf"),Object(n["i"])("h2",{class:"display-6 pt-4"},"Выберите количество предложений",-1)),f={class:"lead"},j=Object(n["k"])(" Выборано "),O={class:"fw-bold"},g=Object(n["i"])("br",null,null,-1);function m(t,e,i,s,c,r){return Object(n["w"])(),Object(n["h"])("div",null,[p,Object(n["i"])("p",f,[j,Object(n["i"])("span",O,Object(n["F"])(c.rangeValue),1),Object(n["k"])(" предложени"+Object(n["F"])(c.caseWord)+" в тексте ",1)]),Object(n["M"])(Object(n["i"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return c.rangeValue=t}),type:"range",class:"form-range mb-3",min:"1",max:"8",step:"1",style:{width:"30%",transform:"scale(1.7)"}},null,512),[[n["I"],c.rangeValue]]),g,Object(n["i"])("button",{onClick:e[1]||(e[1]=function(){return r.start&&r.start.apply(r,arguments)}),type:"button",class:"btn btn-lg btn-outline-success mt-4 mb-5"}," Начать тренировку ")])}var x={name:"TrainingLobby",data:function(){return{rangeValue:1,caseWord:"е"}},watch:{rangeValue:function(t){this.caseWord=t>4?"й":t>1?"я":"е"}},methods:{start:function(){this.$emit("start",this.rangeValue)}}},k=i("6b0d"),w=i.n(k);const v=w()(x,[["render",m]]);var y=v,F={class:""},T={class:"d-flex justify-content-around align-items-center p-1"},N={class:"fix"},S=Object(n["i"])("hr",{style:{width:"90%"},class:"m-auto"},null,-1),L=["innerHTML"],$={class:"progress bg-dark mb-3",style:{height:"45px","border-radius":"0px 0px 21px 21px"}};function B(t,e,i,s,c,r){return Object(n["w"])(),Object(n["h"])("div",F,[Object(n["i"])("div",T,[Object(n["i"])("button",{onClick:e[0]||(e[0]=function(){return r.back&&r.back.apply(r,arguments)}),type:"button",class:"btn btn-lg btn-link"}," Вернуться назад "),Object(n["i"])("button",{onClick:e[1]||(e[1]=function(){return r.fetchText&&r.fetchText.apply(r,arguments)}),type:"button",onclick:"blur()",class:"btn btn-outline-secondary"}," Другой текст "),Object(n["i"])("h3",N,Object(n["F"])(r.speedNaN),1)]),S,Object(n["i"])("p",{ref:"text",class:"text p-3",innerHTML:i.text.newArr},null,8,L),Object(n["i"])("div",$,[Object(n["i"])("div",{class:"progress-bar bg-success progress-bar-striped progress-bar-animated",role:"progressbar",style:Object(n["s"])({width:c.progress+"%"}),"aria-valuemin":"0","aria-valuemax":"100"},[Object(n["i"])("span",null,Object(n["F"])(Math.floor(c.progress))+"%",1)],4)])])}i("caad"),i("b680");var V={name:"TrainingStart",props:{text:{type:Object,required:!0}},data:function(){return{window:window,i:0,progress:0,time:0,interval:{},mistakes:null}},methods:{back:function(){this.$emit("back")},fetchText:function(){this.$emit("fetchText",this.text.n),this.i=0,this.time=0,clearInterval(this.interval)},press:function(t){var e=["Shift","Tab","Control","Alt","CapsLock","Meta","Backspace"];e.includes(t.key)||(this.$refs.text.childNodes[this.i].innerHTML===t.key?(this.$refs.text.childNodes[this.i].classList.add("true"),this.i++):(this.mistakes++,this.$refs.text.childNodes[this.i].classList.add("false")),this.i===this.$refs.text.childNodes.length&&this.$emit("finish",[this.i,this.time,this.mistakes]),32==(t.keycode||t.which)&&t.preventDefault(),1==this.i&&this.setInt())},setInt:function(){var t=this;this.interval=setInterval((function(){t.time++}),1e3)}},computed:{speedNaN:function(){return isFinite(isNaN((this.i/this.time*60).toFixed())?"0":(this.i/this.time*60).toFixed())?isNaN((this.i/this.time*60).toFixed())?"0":(this.i/this.time*60).toFixed():"0"}},watch:{i:function(t){this.progress=t/this.$refs.text.childNodes.length*100}},mounted:function(){this.window.addEventListener("keydown",this.press)},beforeUnmount:function(){this.window.removeEventListener("keydown",this.press)}};i("a4e9");const C=w()(V,[["render",B]]);var I=C,M=Object(n["i"])("p",{class:"h1 pt-3"},"Поздравляем",-1),A={class:"container-sm p-4 d-flex justify-content-center",style:{"font-size":"1.6em"}},D={class:"list-group",style:{flex:"0 1 900px"}},H={class:"list-group-item d-flex justify-content-between align-items-center"},W=Object(n["k"])(" Скорость - количество символов в минуту: "),q={class:"badge bg-success rounded-pill"},z={class:"list-group-item d-flex justify-content-between align-items-center"},E=Object(n["k"])(" Точность - процент правильности: "),J={class:"badge bg-success rounded-pill"},R={class:"list-group-item d-flex justify-content-between align-items-center"},U=Object(n["k"])(" Объем - общее количество символов в тексте: "),_={class:"badge bg-success rounded-pill"};function G(t,e,i,s,c,r){return Object(n["w"])(),Object(n["h"])("div",null,[M,Object(n["i"])("div",A,[Object(n["i"])("ul",D,[Object(n["i"])("li",H,[W,Object(n["i"])("span",q,Object(n["F"])((i.result[0]/i.result[1]*60).toFixed()),1)]),Object(n["i"])("li",z,[E,Object(n["i"])("span",J,Object(n["F"])(100-(i.result[2]/i.result[0]*100).toFixed())+"%",1)]),Object(n["i"])("li",R,[U,Object(n["i"])("span",_,Object(n["F"])(i.result[0]),1)])])]),Object(n["i"])("button",{onClick:e[0]||(e[0]=function(){return r.back&&r.back.apply(r,arguments)}),type:"button",class:"mb-5 btn btn-lg btn-outline-success mt-4"}," Тренироваться снова ")])}var K={name:"TrainingFinish",props:{result:{type:Array,required:!0}},methods:{back:function(){this.$emit("back")}},computed:{speed:function(){return isNaN((this.i/this.time*60).toFixed())?"0":(this.i/this.time*60).toFixed()}}};const P=w()(K,[["render",G]]);var Q=P,X=i("bc3a"),Y=i.n(X),Z={components:{TrainingLobby:y,TrainingStart:I,TrainingFinish:Q},data:function(){return{isStart:!1,text:{},n:null,isFinish:!1,result:[],loading:null}},methods:{onStart:function(t){this.isStart=!0,this.fetchText(t),this.loading=!0},finish:function(t){this.isStart=!1,this.isFinish=!0,this.result=t},onBack:function(){this.isStart=!1,console.log("lol")},onBackFromFinish:function(){this.isStart=!1,this.isFinish=!1},fetchText:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Y.a.get("https://fish-text.ru/get?format=text&number=".concat(t));case 3:n=i.sent,e.text=e.wrap(n.data.text,t),i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](0),alert("ошибка ",i.t0);case 10:return i.prev=10,e.loading=!1,i.finish(10);case 13:case"end":return i.stop()}}),i,null,[[0,7,10,13]])})))()},wrap:function(t,e){for(var i=t.split(""),n=[],s=0;s<i.length;s++)n.push("<span>".concat(i[s],"</span>"));return n=n.join(""),{newArr:n,n:e}}}};i("f67b");const tt=w()(Z,[["render",d],["__scopeId","data-v-0a5d15bc"]]);e["default"]=tt},a4e9:function(t,e,i){"use strict";i("adb5")},adb5:function(t,e,i){},cad9:function(t,e,i){},f67b:function(t,e,i){"use strict";i("cad9")}}]);
//# sourceMappingURL=chunk-06a5cf23.9abaf2d3.js.map