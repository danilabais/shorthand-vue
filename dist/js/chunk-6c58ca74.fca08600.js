(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c58ca74"],{"024f":function(t,e,n){"use strict";n("eb7a")},"13b2":function(t,e,n){"use strict";n.r(e);n("38cf");var i=n("7a23"),s={class:"bg-body shadow-lg mx-auto mt-5",style:{width:"80%","min-height":"200px","border-radius":"21px 21px 21px 21px"}};function a(t,e,n,a,c,r){var o=Object(i["D"])("ExamLobby"),u=Object(i["D"])("Counter"),l=Object(i["D"])("ExamStart"),h=Object(i["D"])("ExamMain");return Object(i["w"])(),Object(i["h"])("div",s,[c.isStart?Object(i["g"])("",!0):(Object(i["w"])(),Object(i["f"])(o,{key:0,onStartCounter:r.startCounter},null,8,["onStartCounter"])),c.isStart&&!c.isStartExam?(Object(i["w"])(),Object(i["f"])(u,{key:1,onExam:r.exam},null,8,["onExam"])):Object(i["g"])("",!0),c.isStartExam&&!c.isFinishExam?(Object(i["w"])(),Object(i["f"])(l,{key:2,onFinish:r.finish,onFetchText:r.repeat,text:c.text},null,8,["onFinish","onFetchText","text"])):Object(i["g"])("",!0),c.isFinishExam?(Object(i["w"])(),Object(i["f"])(h,{key:3,onBack:r.repeat,result:c.result},null,8,["onBack","result"])):Object(i["g"])("",!0)])}var c=n("1da1"),r=(n("ac1f"),n("1276"),n("a15b"),n("96cf"),n("bc3a")),o=n.n(r),u={class:"center"},l=Object(i["j"])('<h2 class="display-5 pt-4" data-v-103306e2>Экзамен</h2><ul class="lead" data-v-103306e2><li data-v-103306e2>Нельзя выбрать количество предложений</li><hr style="width:20%;" class="m-auto" data-v-103306e2><li data-v-103306e2>Убраны лишнии визуальные элементы</li><hr style="width:20%;" class="m-auto" data-v-103306e2><li data-v-103306e2>Рекорды сохраняются</li><hr style="width:20%;" class="m-auto" data-v-103306e2><li data-v-103306e2>Максимальная концентрация</li><hr style="width:20%;" class="m-auto" data-v-103306e2><li data-v-103306e2>Отсчёт времени начинается с таймера</li></ul>',2);function h(t,e,n,s,a,c){return Object(i["w"])(),Object(i["h"])("div",u,[l,Object(i["i"])("button",{onClick:e[0]||(e[0]=function(){return c.startCounter&&c.startCounter.apply(c,arguments)}),type:"button",class:"btn btn-lg btn-outline-success mt-5 mb-5"}," Начать экзамен ")])}var b={name:"TrainingLobby",methods:{startCounter:function(){this.$emit("startCounter")}}},d=(n("024f"),n("6b0d")),f=n.n(d);const m=f()(b,[["render",h],["__scopeId","data-v-103306e2"]]);var p=m,x={class:"counter display-1 d-flex justify-content-center align-items-center"};function j(t,e,n,s,a,c){return Object(i["w"])(),Object(i["h"])("div",x,[Object(i["i"])("strong",null,Object(i["F"])(a.counter),1)])}var O={name:"Counter",data:function(){return{counter:3}},methods:{startCount:function(){var t=this;setTimeout((function(){1!==t.counter?(t.counter--,t.startCount()):t.$emit("exam")}),1e3)}},mounted:function(){this.startCount()}};n("e5eb");const v=f()(O,[["render",j],["__scopeId","data-v-3299f7a3"]]);var k=v,g={class:"d-flex justify-content-around align-items-center p-1"},w={class:"fix"},y={class:"mistakes fix"},E=Object(i["i"])("hr",{style:{width:"90%"},class:"m-auto"},null,-1),F=["innerHTML"];function T(t,e,n,s,a,c){return Object(i["w"])(),Object(i["h"])("div",null,[Object(i["i"])("div",g,[Object(i["i"])("button",{onClick:e[0]||(e[0]=function(){return c.fetchText&&c.fetchText.apply(c,arguments)}),type:"button",onclick:"blur()",class:"btn btn-outline-secondary"}," Начать заново "),Object(i["i"])("h3",w,Object(i["F"])(c.speedNaN),1),Object(i["i"])("h3",y,Object(i["F"])(c.timeNaN)+"%",1)]),E,Object(i["i"])("p",{ref:"traningText",innerHTML:n.text,class:"text p-2"},null,8,F)])}n("b680"),n("caad");var C={name:"ExamStart",props:{text:{type:String,required:!0}},data:function(){return{i:0,window:window,mistakes:0,time:0}},computed:{speedNaN:function(){return isNaN((this.i/this.time*60).toFixed())?"0":(this.i/this.time*60).toFixed()},timeNaN:function(){return isFinite(isNaN(100-(this.mistakes/this.i*100).toFixed())?"0":100-(this.mistakes/this.i*100).toFixed())?isNaN(100-(this.mistakes/this.i*100).toFixed())?"0":100-(this.mistakes/this.i*100).toFixed():"0"}},methods:{fetchText:function(){this.$emit("fetchText")},setInt:function(){var t=this;this.interval=setInterval((function(){t.time++}),1e3)},press:function(t){var e=["Shift","Tab","Control","Alt","CapsLock","Meta","Backspace"];e.includes(t.key)||(this.$refs.traningText.childNodes[this.i].innerHTML===t.key?(this.$refs.traningText.childNodes[this.i].classList.add("true"),this.i++):(this.mistakes++,this.$refs.traningText.childNodes[this.i].classList.add("false")),this.i===this.$refs.traningText.childNodes.length&&this.$emit("finish",this.time,this.mistakes,this.i),32==(t.keycode||t.which)&&t.preventDefault())}},mounted:function(){this.setInt(),this.window.addEventListener("keydown",this.press)},beforeUnmount:function(){this.window.removeEventListener("keydown",this.press)}};n("e47b");const S=f()(C,[["render",T]]);var N=S,L={class:"text-center"},$=Object(i["i"])("p",{class:"h1 pt-3"},"Поздравляем",-1),D={class:"container-sm p-4 d-flex justify-content-center",style:{"font-size":"1.6em"}},M={class:"list-group",style:{flex:"0 1 900px"}},I={class:"list-group-item d-flex justify-content-between align-items-center"},_=Object(i["k"])(" Скорость - количество символов в минуту: "),R={class:"badge bg-success rounded-pill"},B={class:"list-group-item d-flex justify-content-between align-items-center"},H=Object(i["k"])(" Точность - процент правильности: "),q={class:"badge bg-success rounded-pill"},A={class:"list-group-item d-flex justify-content-between align-items-center"},J=Object(i["k"])(" Объем - общее количество символов в тексте: "),z={class:"badge bg-success rounded-pill"},U=Object(i["i"])("br",null,null,-1),G=Object(i["k"])("К результатам");function K(t,e,n,s,a,c){var r=Object(i["D"])("router-link");return Object(i["w"])(),Object(i["h"])("div",L,[$,Object(i["i"])("div",D,[Object(i["i"])("ul",M,[Object(i["i"])("li",I,[_,Object(i["i"])("span",R,Object(i["F"])(c.speed),1)]),Object(i["i"])("li",B,[H,Object(i["i"])("span",q,Object(i["F"])(c.mistakes)+"%",1)]),Object(i["i"])("li",A,[J,Object(i["i"])("span",z,Object(i["F"])(n.result[2]),1)])])]),Object(i["i"])("button",{onClick:e[0]||(e[0]=function(){return c.back&&c.back.apply(c,arguments)}),type:"button",class:"btn btn-lg btn-outline-success mt-4"}," Тренироваться снова"),U,Object(i["l"])(r,{to:"/results",class:"mb-5 btn btn-lg btn-link"},{default:Object(i["L"])((function(){return[G]})),_:1})])}var P=n("2591"),Q={name:"ExamMain",props:{result:{type:Array,required:!0}},methods:{back:function(){this.$emit("back")}},computed:{speed:function(){return(this.result[2]/this.result[0]*60).toFixed()},mistakes:function(){return 100-(this.result[1]/this.result[2]*100).toFixed()},uid:function(){return this.$store.getters.uid}},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P["a"].database().ref("/users/".concat(t.uid,"/results")).push({speed:+t.speed,mistakes:t.mistakes,date:Date.now()});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}};const V=f()(Q,[["render",K]]);var W=V,X={name:"Exam",data:function(){return{isStart:!1,isStartExam:!1,isFinishExam:!1,text:"",result:[]}},components:{ExamLobby:p,Counter:k,ExamStart:N,ExamMain:W},methods:{repeat:function(){this.isStart=!0,this.isStartExam=!1,this.fetchText(),this.isFinishExam=!1},startCounter:function(){this.isStart=!0,this.fetchText()},exam:function(){this.isStartExam=!1,this.isStartExam=!0},finish:function(t,e,n){this.isFinishExam=!0,this.result=[t,e,n]},fetchText:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("https://fish-text.ru/get?format=text&number=3");case 3:n=e.sent,t.text=t.wrap(n.data.text),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),alert("ошибка ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},wrap:function(t){for(var e=t.split(""),n=[],i=0;i<e.length;i++)n.push("<span>".concat(e[i],"</span>"));return n=n.join(""),n}}};const Y=f()(X,[["render",a]]);e["default"]=Y},"38cf":function(t,e,n){var i=n("23e7"),s=n("1148");i({target:"String",proto:!0},{repeat:s})},aea7:function(t,e,n){},c3c9:function(t,e,n){},e47b:function(t,e,n){"use strict";n("aea7")},e5eb:function(t,e,n){"use strict";n("c3c9")},eb7a:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6c58ca74.fca08600.js.map